(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{564:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"idea插件开发学习"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#idea插件开发学习"}},[t._v("#")]),t._v(" IDEA插件开发学习")]),t._v(" "),s("h2",{attrs:{id:"初始化插件工程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化插件工程"}},[t._v("#")]),t._v(" 初始化插件工程")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("在GitHub页面使用"),s("a",{attrs:{href:"https://github.com/JetBrains/intellij-platform-plugin-template",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方模板"),s("OutboundLink")],1),t._v("创建一个仓库\n"),s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/kkyeer/picbed/20221210105755.png",alt:"20221210105755"}})])]),t._v(" "),s("li",[s("p",[s("code",[t._v("git clone")]),t._v("仓库到本地，使用idea打开")])]),t._v(" "),s("li",[s("p",[t._v("配置Gradle镜像：修改"),s("code",[t._v("build.gradle.kts")]),t._v("文件，在20行左右添加如下配置")]),t._v(" "),s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Configure project's dependencies")]),t._v("\n repositories "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     maven "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://maven.aliyun.com/repository/public/"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n     maven "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://maven.aliyun.com/repository/spring/"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mavenCentral")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("新增版本（必需，否则运行报错）：修改"),s("code",[t._v("CHANGELOG.md")]),t._v("文件，在最下面新增如下内容")]),t._v(" "),s("div",{staticClass:"language-markdown line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-markdown"}},[s("code",[s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("##")]),t._v(" [1.1.0] - 2019-02-15")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("###")]),t._v(" Added")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("运行，右上角已有现成配置，点击"),s("code",[t._v("Run Plugin")]),t._v("即可")])])]),t._v(" "),s("h2",{attrs:{id:"参考范例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考范例"}},[t._v("#")]),t._v(" 参考范例")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/JetBrains/intellij-sdk-code-samples",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方Code Samples"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("首先参考"),s("strong",[t._v("project_view_pane")]),t._v("项目，结合"),s("a",{attrs:{href:"https://plugins.jetbrains.com/docs/intellij/plugin-extensions.html#declaring-extensions",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),s("OutboundLink")],1),t._v("一起")]),t._v(" "),s("li",[t._v("找到官方debugger对应的代码位置："),s("code",[t._v("com.intellij.xdebugger")])])]),t._v(" "),s("h2",{attrs:{id:"实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实现"}},[t._v("#")]),t._v(" 实现")]),t._v(" "),s("ul",[s("li",[t._v("尝试在Debugger窗口加一个按钮，参考"),s("strong",[t._v("action_basics")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("新建一个类，继承"),s("code",[t._v("AnAction")]),t._v("类:"),s("code",[t._v("public class ToUmlDebuggerAction extends AnAction{...}")])])]),t._v(" "),s("li",[s("p",[t._v("在"),s("code",[t._v("plugin.xml")]),t._v("文件里配置Action:")]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("action")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("myAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.kkyeer.debugger.to.uml.ToUmlDebuggerAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("text")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("My Action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("description")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("My action description"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("icon")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.kkyeer.debugger.to.uml.icons.SdkIcons.Sdk_default_icon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("add-to-group")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("group-id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("XDebugger.ToolWindow.LeftToolbar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("anchor")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("last"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("actions")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("尝试获取DebuggerFramesList：参考类"),s("code",[t._v("com.intellij.xdebugger.impl.frame.XDebuggerFramesList")])])])])]),t._v(" "),s("li",[t._v("因为用的是"),s("strong",[t._v("Java")]),t._v("Frame，所以需要改动依赖变为IDEA专属，参考"),s("a",{attrs:{href:"https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html#exploring-module-and-plugin-apis",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方资料"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[t._v("plugin.xml的配置修改:depends改为"),s("code",[t._v("<depends>com.intellij.java</depends>")])]),t._v(" "),s("li",[t._v("gradle.properties的配置新增:"),s("code",[t._v("platformPlugins =com.intellij.java")])]),t._v(" "),s("li",[t._v("runIDE，效果达成"),s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/kkyeer/picbed/20221211113559.png",alt:"20221211113559"}})])])]),t._v(" "),s("li",[t._v("接下来需要考虑时序图生成")])]),t._v(" "),s("h2",{attrs:{id:"生成时序图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成时序图"}},[t._v("#")]),t._v(" 生成时序图")]),t._v(" "),s("p",[t._v("各种搜索后，准备参考这个插件的代码"),s("a",{attrs:{href:"https://github.com/Vanco/SequencePlugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("SequencePlugin"),s("OutboundLink")],1),t._v("，尝试后发现耦合度相当高，抽离需要付出相当大的精力，暂时作为PLAN B。\n继续搜索后从"),s("a",{attrs:{href:"https://rishirajrandive.github.io/uml-parser/",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1),t._v("找到灵感，准备使用PlantUML+GraphViz的组合实现，效果参考"),s("img",{attrs:{src:"https://raw.githubusercontent.com/rishirajrandive/uml-parser/master/images/sequence.png",alt:"https://raw.githubusercontent.com/rishirajrandive/uml-parser/master/images/sequence.png"}})]),t._v(" "),s("h3",{attrs:{id:"plantuml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#plantuml"}},[t._v("#")]),t._v(" PlantUML")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://plantuml.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),s("OutboundLink")],1),t._v("，示例：")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@startuml")]),t._v("\nparticipant Participant "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Foo\nactor       Actor       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Foo1\nboundary    Boundary    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Foo2\ncontrol     Control     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Foo3\nentity      Entity      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Foo4\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("database")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Database")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Foo5\ncollections Collections "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Foo6\nqueue       Queue       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Foo7\nFoo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Foo1 : "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("To")]),t._v(" actor \nFoo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Foo2 : "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("To")]),t._v(" boundary\nFoo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Foo3 : "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("To")]),t._v(" control\nFoo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Foo4 : "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("To")]),t._v(" entity\nFoo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Foo5 : "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("To")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("database")]),t._v("\nFoo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Foo6 : "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("To")]),t._v(" collections\nFoo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Foo7: "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("To")]),t._v(" queue\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@enduml")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br")])]),s("h2",{attrs:{id:"idea展示图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#idea展示图片"}},[t._v("#")]),t._v(" IDEA展示图片")]),t._v(" "),s("p",[t._v("先使用较简单的弹窗展示图像："),s("a",{attrs:{href:"https://plugins.jetbrains.com/docs/intellij/dialog-wrapper.html#dialogwrapper",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://plugins.jetbrains.com/docs/intellij/dialog-wrapper.html#dialogwrapper"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Swing默认不支持SVG，解决方案："),s("a",{attrs:{href:"https://xmlgraphics.apache.org/batik/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://xmlgraphics.apache.org/batik/"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"发布插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布插件"}},[t._v("#")]),t._v(" 发布插件")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("补充信息，参考"),s("a",{attrs:{href:"https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html#idea-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),s("OutboundLink")],1)]),t._v(" "),s("ul",[s("li",[t._v("注意，插件介绍"),s("strong",[t._v("不要")]),t._v("配置在plugin.xml中，打包的时候会强制从"),s("code",[t._v("README")]),t._v("中读取，配置在"),s("code",[t._v("Plugin description")]),t._v("部分后面")])])]),t._v(" "),s("li",[s("p",[t._v("签名，根据"),s("a",{attrs:{href:"https://plugins.jetbrains.com/docs/intellij/plugin-signing.html#gradle-intellij-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),s("OutboundLink")],1),t._v("生成签名，"),s("strong",[t._v("注意，生成签名后，不要按文档描述将key文件内容复制到环境变量，需要如下改动"),s("code",[t._v("build.gradle.kts")]),t._v("文件，并将2个文件路径配置到环境变量")]),t._v("，原因为"),s("a",{attrs:{href:"https://intellij-support.jetbrains.com/hc/en-us/community/posts/4408839632146-Signing-Plugin-always-throws-NullPointerException-pemObject-must-not-be-null",target:"_blank",rel:"noopener noreferrer"}},[t._v("环境变量多行文本配置需要特别注意"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[t._v("signPlugin "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    certificateChain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("File")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("System"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getenv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CERTIFICATE_CHAIN"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readText")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    privateKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("File")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("System"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getenv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PRIVATE_KEY"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readText")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    password"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("System"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getenv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PRIVATE_KEY_PASSWORD"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("在"),s("a",{attrs:{href:"https://plugins.jetbrains.com/plugin/add#intellij",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),s("OutboundLink")],1),t._v("登录并上传插件")])])]),t._v(" "),s("h3",{attrs:{id:"附-生成签名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附-生成签名"}},[t._v("#")]),t._v(" 附:生成签名")]),t._v(" "),s("p",[t._v("Generate Private Key\nTo generate an RSA private.pem private key, run the openssl genpkey command in the terminal, as below:")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("openssl genpkey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n-aes-256-cbc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-algorithm")]),t._v(" RSA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-out")]),t._v(" private_encrypted.pem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-pkeyopt")]),t._v(" rsa_keygen_bits:4096\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("After that, it's required to convert it into the RSA form with:")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("openssl rsa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-in")]),t._v(" private_encrypted.pem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-out")]),t._v(" private.pem\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("At this point, the generated private.pem content should be provided to the signPlugin.privateKey property. Provided password should be specified as the signPlugin.password property in the signPlugin configuration.\nAs a next step, we will generate a chain.crt certificate chain with:")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("openssl req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-key")]),t._v(" private.pem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n-new"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n-x509"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-days")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("365")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-out")]),t._v(" chain.crt\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("The content of the chain.crt file will be used for the signPlugin.certificateChain property.")])])}),[],!1,null,null,null);s.default=e.exports}}]);
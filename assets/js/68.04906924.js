(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{506:function(t,s,e){"use strict";e.r(s);var a=e(2),r=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"解决mac-os系统idea同步配置ssh登陆git仓库报错问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决mac-os系统idea同步配置ssh登陆git仓库报错问题"}},[t._v("#")]),t._v(" 解决Mac OS系统IDEA同步配置SSH登陆Git仓库报错问题")]),t._v(" "),s("h2",{attrs:{id:"背景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),s("p",[t._v("IDEA提供了配置同步的功能，支持将配置保存到Git仓库，然后各台电脑/系统上的客户端自动同步仓库中的配置，入口如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/kkyeer/picbed/20210518165623.png",alt:"20210518165623"}})]),t._v(" "),s("p",[t._v("使用说明见"),s("a",{attrs:{href:"https://www.jetbrains.com/help/idea/sharing-your-ide-settings.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[t._v("#")]),t._v(" 问题")]),t._v(" "),s("p",[t._v("在新版Mac OS系统下（我的是11.2），新生成ssh key并在远程Git仓库配置ssh授权，确认本地用户可以正常ssh登陆到服务器，Git Clone也正常，但是在上述IDEA配置中填入SSH登陆的仓库的时候，会提示需要登录服务器")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/kkyeer/picbed/20210518170040.png",alt:"20210518170040"}})]),t._v(" "),s("p",[t._v("idea日志如下")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/kkyeer/picbed/20210518171123.png",alt:"20210518171123"}})]),t._v(" "),s("h2",{attrs:{id:"原因"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原因"}},[t._v("#")]),t._v(" 原因")]),t._v(" "),s("p",[t._v("Mac OS的ssh组件进行了升级，默认生成高版本的key，特征是私钥的开头为"),s("code",[t._v("-----BEGIN OPENSSH PRIVATE KEY-----")]),t._v(" "),s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/kkyeer/picbed/20210518171958.png",alt:"20210518171958"}})]),t._v(" "),s("p",[t._v("IDEA的Settings Repository插件使用的JSch组件不支持此key，导致报错")]),t._v(" "),s("h2",{attrs:{id:"解决"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决"}},[t._v("#")]),t._v(" 解决")]),t._v(" "),s("ol",[s("li",[t._v("新生成旧版本的密钥对，可以考虑不覆盖原有的密钥对，如果不覆盖，需要执行第2步，否则不需要:命令行执行"),s("code",[t._v("ssh-keygen -t rsa -m PEM")]),t._v("，并在对应的Git仓库配置授权")]),t._v(" "),s("li",[t._v("如果密钥对不是默认的"),s("code",[t._v("id_rsa")]),t._v("，则在"),s("code",[t._v(".ssh")]),t._v("文件夹下新建config文件，配置内容如下：")])]),t._v(" "),s("div",{staticClass:"language-config line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Host github.com<你的Git仓库域名>\n  HostName github.com<你的Git仓库域名>\n  IdentityFile ~/.ssh/id_rsa_old<这里填你刚生成的密钥对前缀>\n  User git<这里填SSH的用户名>\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://youtrack.jetbrains.com/issue/IDEA-215839",target:"_blank",rel:"noopener noreferrer"}},[t._v("IDEA官方Bug"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);